# Default update config
# Config order: hparams_registry -> config.yaml -> CLI
swad: False  # True / False
swad_kwargs:
  n_converge: 3
  n_tolerance: 6
  tolerance_ratio: 0.3
  
test_batchsize: 128

# resnet18, resnet50 
model: resnet50
feat_layers: stem_block

# VAE-DG Loss Configuration - ORIGINAL PAPER SETTINGS (Optimized for Vessel Visibility)
# loss_multiplier_y: weight for classification loss
loss_multiplier_y: 0.1  # Original value from paper
# loss_multiplier_kl: base weight for KL divergence (will be annealed)
# Slightly reduced for better vessel detail preservation while keeping original architecture
loss_multiplier_kl: 0.00005  # Reduced from 0.0001 for better detail learning

# KL Annealing Configuration
# KL annealing helps prevent posterior collapse by gradually increasing KL weight
kl_anneal_start: 0        # Step to start KL annealing (0 = start immediately)
kl_anneal_end: 10000      # Extended annealing for better vessel learning
kl_anneal_cyclical: False # If True, repeats annealing cycle every kl_anneal_cycle_length steps
kl_anneal_cycle_length: 10000  # Cycle length for cyclical annealing (if enabled)


