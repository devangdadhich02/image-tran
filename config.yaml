# Default update config
# Config order: hparams_registry -> config.yaml -> CLI
swad: False  # True / False
swad_kwargs:
  n_converge: 3
  n_tolerance: 6
  tolerance_ratio: 0.3
  
test_batchsize: 128

# resnet18, resnet50 
model: resnet50
feat_layers: stem_block

# VAE-DG Loss Configuration - CLIENT REQUESTED SETTINGS
# loss_multiplier_y: weight for classification loss (set to 0 to disable classification)
loss_multiplier_y: 0  # Disabled - focusing only on reconstruction
# loss_multiplier_kl: base weight for KL divergence (will be annealed)
# Increased as per client request (was too small)
loss_multiplier_kl: 0.0001  # Increased from 0.00005 for better regularization

# KL Annealing Configuration
# KL annealing helps prevent posterior collapse by gradually increasing KL weight
kl_anneal_start: 0        # Step to start KL annealing (0 = start immediately)
kl_anneal_end: 10000      # Extended annealing for better vessel learning
kl_anneal_cyclical: False # If True, repeats annealing cycle every kl_anneal_cycle_length steps
kl_anneal_cycle_length: 10000  # Cycle length for cyclical annealing (if enabled)


